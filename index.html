<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bar List Purchases</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
</head>
<body>
    <div class="layout-wrapper">
        <div id= "purchase-statistics">
            <canvas id="purchase-statistics-canvas"></canvas>
        </div>
        <div id="purchase-inputs" class="align-vertical">
            <table>
                <tbody>
                    <!-- auto-filled -->
                </tbody>
            </table>
        </div>
        <div id="purchase-confirm" class="align-vertical">
            <div class="spacer"></div>
            <span id="subtotal">Subtotal: 0€</span>
            <div class="align-horizontal mt-3">
                <span>Add Tip?</span>
                <div class="spacer"></div>
                <input type="text" inputmode="decimal" pattern="\d*([.,]\d{1,2})?" name="tip-quantity" id="tip-qty" min="0" step="0.01" value="" placeholder="0">
                <button id="tip-round" onclick="roundTip()">Round to next full €</button>
            </div>
            <hr>
            <span id="total">Total: 0€</span>
            <div class="align-horizontal purchase-buttons mt-5">
                <button onclick="addPurchase('card')">Paid with Card</button>
                <button onclick="addPurchase('cash')">Paid in Cash</button>
            </div>
        </div>
        <div id="page-refresh" class="align-vertical">
            <div class="spacer"></div>
            <div class="align-horizontal">
                <div class="spacer"></div>
                <div class="align-vertical">
                    <button onclick="fetchPurchases()">Refresh purchase statistics</button>
                    <button onclick="fetchItems()">Refresh item list</button>
                    <span class="small align-right mt-5">Made by Cheos & mel1na</span>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>